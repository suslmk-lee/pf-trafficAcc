apiVersion: v1
kind: ConfigMap
metadata:
  name: traffic-config
  namespace: tf-monitor
data:
  # Database Configuration
  DB_HOST: "210.109.14.158:30306"
  DB_PORT: "30306"
  DB_NAME: "trafficdb"
  DB_USER: "trafficuser"

  # Redis Configuration
  REDIS_ADDR: "210.109.14.158:30379"

  # Data Source Configuration
  DATA_SOURCE_MODE: "real"
  SIMULATOR_API_URL: "http://traffic-simulator.tf-monitor.svc.cluster.local:8080/api/traffic"

  # OpenAPI Proxy URLs (using internal proxy instead of external APIs)
  REAL_OPENAPI_URL: "http://openapi-proxy-api.tf-monitor.svc.cluster.local:8080/openapi/burstInfo/realTimeSms"
  TOLLGATE_API_URL: "http://openapi-proxy-api.tf-monitor.svc.cluster.local:8080/openapi/trafficapi/trafficIc"
  ROAD_STATUS_API_URL: "http://openapi-proxy-api.tf-monitor.svc.cluster.local:8080/openapi/odtraffic/trafficAmountByRealtime"

  # Collection Intervals
  COLLECT_INTERVAL: "300s"
  TOLLGATE_COLLECT_INTERVAL: "900s"
  ROAD_STATUS_COLLECT_INTERVAL: "300s"

  # Service Ports
  API_GATEWAY_PORT: "8080"
  DATA_API_SERVICE_PORT: "8080"
---
apiVersion: v1
kind: Secret
metadata:
  name: traffic-secret
  namespace: tf-monitor
type: Opaque
stringData:
  DB_PASSWORD: "trafficpass"
  REAL_OPENAPI_KEY: "8771969304"
  TOLLGATE_API_KEY: "8771969304"
  ROAD_STATUS_API_KEY: "8771969304"
